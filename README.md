‚úÇÔ∏è video-editorThis repository contains the GitHub Action workflow and scripts dedicated to taking a single video part, applying specific vertical (9:16) editing transformations, and uploading the final result to a configured Google Drive/Rclone destination.It acts as the second stage of the video pipeline, triggered by the n8n orchestrator after the initial video splitting job (from Repo A) is complete.üõ†Ô∏è PrerequisitesBefore this repository can function, the following must be configured:RCLONE_CONF_B64: The Base64-encoded string of your rclone.conf file, necessary for downloading the input part and uploading the final edited video. This must be set as a GitHub Secret.GitHub Actions Permissions: The default GITHUB_TOKEN must have permission to write to the repository to commit the result file.‚öôÔ∏è How It Works (Per-Part Job Flow)The workflow is triggered by the creation of a job file in the jobs/edit/ directory, which represents a single video part to be processed.Trigger: The n8n orchestrator pushes a job file to the jobs/edit/ directory (e.g., jobs/edit/<jobId>-part<N>.json).Execution: The script ./scripts/edit_part.sh runs.It downloads the specific video part identified by the input_url.It uses FFmpeg to apply the vertical 9:16 transformation:Creates a blurred background from the input.Scales and overlays the original video in the center.Adds text overlays (movie title and part index).It uploads the final edited part to the target output_folder using Rclone.Signal Completion: The script commits a result JSON file (jobs/edit_results/<jobId>-part<N>.json) back to the repo, containing the final remote link.Next Step: n8n polls for this file to update the Google Sheet with the final link.üì• Job Input Structure (jobs/edit/<jobId>-part<N>.json)The job file created by n8n must be a JSON object detailing a single part:Field NameTypeDescriptionExampleinput_urlStringThe Rclone remote path or link to the split video part (from Repo A's output).gdrive:Processed/Splits/MyMovie_part1.mp4movie_titleStringThe main title used for the text overlay."My Awesome Documentary"part_indexIntegerThe index of the part (e.g., 1). Used in the filename and text overlay.1output_folderStringThe Rclone remote path where the final edited file will be uploaded.gdrive:Processed/FinalExample Job FileJSON{
  "input_url": "gdrive:Processed/Splits/MyMovie_part1.mp4",
  "movie_title": "My Movie",
  "part_index": 1,
  "output_folder": "gdrive:Processed/Final"
}
üì§ Result Output Structure (jobs/edit_results/<jobId>-part<N>.json)The script commits a result JSON file containing the final link for the edited part.Field NameTypeDescriptionmovie_titleStringThe title from the input job.output_nameStringThe final filename of the edited video.final_linkStringThe confirmed Rclone remote path or public link to the final edited video. This link is used by n8n.part_indexIntegerThe index of the part.Example Result FileJSON{
  "movie_title": "My Movie",
  "output_name": "MyMovie_part1_final.mp4",
  "final_link": "gdrive:Processed/Final/MyMovie_part1_final.mp4",
  "part_index": 1
}
üìú Repository ContentsPathDescription.github/workflows/edit-on-job.ymlDefines the GitHub Action trigger and execution environment.scripts/edit_part.shThe core script using ffmpeg and rclone for editing, uploading, and committing the result.jobs/edit/Directory where n8n drops input job files (one per part).jobs/edit_results/Directory where the Action commits output result files.
